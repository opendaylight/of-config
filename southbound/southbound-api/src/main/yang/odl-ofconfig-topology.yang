module odl-ofconfig-topology {
    yang-version 1;
    namespace "urn:opendaylight:params:xml:ns:yang:ofconfig:topology";
    prefix "odl-ofconfig-topology";
    
    import yang-ext { prefix "ext"; }
    import odl-ofconfig-types { prefix "odl-ofconfig-types"; revision-date "2015-09-01";}
    import odl-ofconfig12 { prefix "odl-ofconfig12"; revision-date "2015-09-01";}
    import network-topology {prefix "topo"; revision-date "2013-10-21"; }
    
    revision "2015-09-01" {
        description "Initial revision of opendaylight of-config topology";
    }
    
    augment "/topo:network-topology/topo:topology/topo:topology-types" {
        container topology-ofconfig {
        }
        
        leaf ofconfig-version {
            type identityref {
                base odl-ofconfig-types:of-config-version-type-base;
            }
        }
    }
    

	augment "/topo:network-topology/topo:topology/topo:node" {
        description "Augmentation for capable-switch nodes managed by of-config";
         when "../../topo:topology-types/topology-ofconfig";
        ext:augment-identifier "ofconfig-switch-augmentation";
        
        leaf ofconfig-version {
            type identityref {
                base odl-ofconfig-types:of-config-version-type-base;
            }
        }
        
       
        
         when "ofconfig-version ='of-config-type-version-12' ";
		 	container ofconfig-capable-switch-attributes { 
		    uses odl-ofconfig12:capable-switch-node-attributes;
		 } 
		 
		 list logical-switch{
		 	key "datapath-id";
		 	
		 	leaf datapath-id{
		 		 type odl-ofconfig-types:datapath-id-type;
		 	}
		 	
		 	 when "ofconfig-version ='of-config-type-version-12' ";
			 	container ofconfig-logical-switch-attributes { 
			     uses odl-ofconfig12:of-config-logical-switch-attributes;
			 } 
		 	
		 
		 
		 }
    }
    
    
    augment "/topo:network-topology/topo:topology/topo:node/topo:termination-point" {
        description "Augment topology node termination-point for an of-config port/interface";
        when "../../../topo:topology-types/topology-ofconfig";
        ext:augment-identifier "ofconfig-termination-point-augmentation";
        
        when "../ofconfig-version ='of-config-type-version-12' ";
		 	container ofconfig-logic-switch-attributes { 
		    uses odl-ofconfig12:of-config-port-attributes;
		 } 
    }
    
    
    augment "/topo:network-topology/topo:topology/topo:link" {
        description "Type of link tunnel";
        ext:augment-identifier "ofconfig-tunnel";
        when "../../topo:topology-types/topology-ofconfig and ../../topo:topology-types/ofconfig-version ='of-config-type-version-12' ";
		 	container ofconfig-logic-tunnel-attributes { 
		    uses odl-ofconfig12:of-config-tunnel-attributes;
		 } 
    }
}
    